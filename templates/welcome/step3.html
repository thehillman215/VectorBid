<div class="step-content">
    <h3 class="text-center mb-4">
        <i class="fas fa-map-marker-alt text-primary me-2"></i>
        Step 3: Base & Seniority
    </h3>
    
    {% if error %}
        <div class="alert alert-danger" role="alert">
            <i class="fas fa-exclamation-circle me-2"></i>{{ error }}
        </div>
    {% endif %}

    <form hx-post="{{ url_for('welcome.wizard_step', step=3) }}" 
          hx-target="#wizard-content" 
          hx-swap="innerHTML">
        
        <!-- Home Base -->
        <div class="mb-4">
            <label for="base" class="form-label fw-semibold">
                <i class="fas fa-home me-2"></i>
                Home Base
            </label>
            <input type="text" 
                   class="form-control form-control-lg" 
                   id="base" 
                   name="base" 
                   placeholder="e.g., LAX, JFK, ORD, DEN"
                   value="{{ wizard_data.base or '' }}"
                   maxlength="4"
                   style="text-transform: uppercase;"
                   required>
            <div class="form-text">
                <i class="fas fa-info-circle text-primary me-1"></i>
                Enter your primary domicile airport code
            </div>
        </div>

        <!-- Seniority -->
        <div class="mb-4">
            <label for="seniority" class="form-label fw-semibold">
                <i class="fas fa-sort-numeric-up me-2"></i>
                Seniority Number <span class="text-muted">(Optional)</span>
            </label>
            <input type="number" 
                   class="form-control form-control-lg" 
                   id="seniority" 
                   name="seniority" 
                   placeholder="e.g., 1500"
                   value="{{ wizard_data.seniority or '' }}"
                   min="1"
                   max="99999">
            <div class="form-text">
                <i class="fas fa-info-circle text-primary me-1"></i>
                Your system seniority number helps with bidding preferences
            </div>
        </div>

        <!-- Profile Summary -->
        <div class="card bg-light mb-4">
            <div class="card-body">
                <h6 class="card-title">
                    <i class="fas fa-clipboard-check text-success me-2"></i>
                    Profile Summary
                </h6>
                <ul class="list-unstyled mb-0">
                    <li><strong>Airline:</strong> {{ wizard_data.airline or 'Not specified' }}</li>
                    <li><strong>Fleet:</strong> {{ wizard_data.fleet|join(', ') if wizard_data.fleet else 'Not specified' }}</li>
                    <li><strong>Position:</strong> 
                        {% if wizard_data.seat == 'CA' %}Captain{% elif wizard_data.seat == 'FO' %}First Officer{% else %}Not specified{% endif %}
                    </li>
                    <li><strong>Base:</strong> <span id="base-preview">{{ wizard_data.base or 'Will be entered above' }}</span></li>
                </ul>
            </div>
        </div>

        <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-lg">
                <i class="fas fa-check-circle me-2"></i>Complete Profile Setup
            </button>
        </div>
    </form>
</div>

<script>
    // Update base preview in real-time
    document.getElementById('base').addEventListener('input', function(e) {
        const preview = document.getElementById('base-preview');
        preview.textContent = e.target.value.toUpperCase() || 'Will be entered above';
    });
    
    // Force uppercase input
    document.getElementById('base').addEventListener('input', function(e) {
        e.target.value = e.target.value.toUpperCase();
    });
</script>